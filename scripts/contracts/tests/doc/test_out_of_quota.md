## test the outOfQuota

*create a contract to test the quota limit*

0. create the test contract

```
python make_tx.py --privkey "352416e1c910e413768c51390dfd791b414212b7b4fe6b1a18f58007fa894214" --code "606060405234156100105760006000fd5b610015565b610148806100246000396000f30060606040526000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806360fe47b11461004e5780636d4ce63c1461007257610048565b60006000fd5b341561005a5760006000fd5b610070600480803590602001909190505061009c565b005b341561007e5760006000fd5b61008661010a565b6040518082815260200191505060405180910390f35b60006000620186a09150600090505b818110156100cd578060006000508190909055505b80806001019150506100ab565b7fdf7a95aebff315db1b7716215d602ab537373cdb769232aae6055c06e798425b836040518082815260200191505060405180910390a15b505050565b60006000600050549050610119565b905600a165627a7a72305820dbeea32b7d59673d43cc6915f194839ee2561c032a57d7d46ed8433972fd34a20029"
```

*详见README中步骤1*

* `code`: 为`solc test_out_of_quota --bin`得到

1. run `python send_tx.py`

结果如下:

```
{"jsonrpc":"2.0","id":1,"result":{"hash":"0x0007d5271df5764fd413e5e4d855a58872fe1b0c9292662448dbc952a6f2d632","status":"Ok"}}
```

*详见README中步骤2*

2. run `python get_receipt.py`

结果如下:

```
{
  "contractAddress": "0x73552bc4e960a1d53013b40074569ea05b950b4d",
  "cumulativeGasUsed": "0x10120",
  "logs": [],
  "blockHash": "0xf17b2820366aaab82822d89122d0523263f72793c44e627314b03da898dc548e",
  "transactionHash": "0x0007d5271df5764fd413e5e4d855a58872fe1b0c9292662448dbc952a6f2d632",
  "root": null,
  "errorMessage": null,
  "blockNumber": "0xc",
  "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
  "transactionIndex": "0x0",
  "gasUsed": "0x10120"
}
```

其中:
* `contractAddress`: 为部署合约的地址，即`0x73552bc4e960a1d53013b40074569ea05b950b4d`

3. get contract function hashes

run `solc test_out_of_quota.sol --hashes`，结果如下:

```
======= test_quota_sol.sol:SimpleStorage =======
Function signatures: 
6d4ce63c: get()
60fe47b1: set(uint256)
```

其中:
* `get`: hash is `0x6d4ce63c`
* `set`: hash is `0x60fe47b1`

4. call the set function, check the quota

```
python make_tx.py --privkey "352416e1c910e413768c51390dfd791b414212b7b4fe6b1a18f58007fa894214" --code "60fe47b10000000000000000000000000000000000000000000000000000000000000001" --to "73552bc4e960a1d53013b40074569ea05b950b4d"
```

*详见README中步骤1*

5. run `python send_tx.py`

```
{"jsonrpc":"2.0","id":1,"result":{"hash":"0x17d7421fab224e3bfcb4dd519aa3249fccf2e97b203e35fc8b3fbd16ba4c9837","status":"Ok"}}
```

*详见README中步骤2*

6. run `python get_receipt.py`

```
{
  "contractAddress": null,
  "cumulativeGasUsed": "0x98967f",
  "logs": [],
  "blockHash": "0x00d37ebc408a264921fdc6812cc830bde48831ae359ae25f6d4e6ef6cf2258bd",
  "transactionHash": "0x17d7421fab224e3bfcb4dd519aa3249fccf2e97b203e35fc8b3fbd16ba4c9837",
  "root": null,
  "errorMessage": "Out of gas.",
  "blockNumber": "0x51",
  "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
  "transactionIndex": "0x0",
  "gasUsed": "0x98967f"
}
```

*详见README中步骤2*
